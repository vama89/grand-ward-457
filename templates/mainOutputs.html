{% extends "base.html" %}

{% block content %}
<div class="row">
	<div class="col-md-6">
		<h1>
			Welcome
		</h1>

		<form method="post">
			<label>
				<div>Amount</div>
				<input type="integer" name="amount">
			</label>

			<br>

			<label>
				<div>Company Name</div>
				<input type="string" name="company">
			</label>

			<br>

			<input type="submit">
		</form>
	</div>

	<div class="col-md-6 pull-right">
			<h1>Returns: <small>{{returns}}%</small></h1>
			<h1>Risk: <small>{{risks}}%</small></h1>
			<h1>Allocation:</h1>
			<div id="chart">
			
				<script>
					var bardata = [20, 30, 45, 15,20, 30, 45, 15];

					var height = 200,
						width = 400,
						barWidth = 50,
						barOffset = 5;

					var yScale = d3.scale.linear()
							.domain([0, d3.max(bardata)])
							.range([0, height])

					var xScale = d3.scale.ordinal()
							.domain(d3.range(0, bardata.length))
							.rangeBands([0,width])

				var myChart = d3.select('#chart').append('svg')
						.attr('width', width)
						.attr('height', height)
						.selectAll('rect').data(bardata)
						.enter().append('rect')
							.style('fill', '#C61C6F')
							.attr('width', xScale.rangeBand())
							.attr('x', function(d,i) {
								return xScale(i);
							})
							.attr('height', 0)
							.attr('y', height)

							.on('mouseover', function(d) {
								d3.select(this)
									.style('opacity', .5)
							})

							.on('mouseout', function(d) {
								d3.select(this)
									.style('opacity', 1)
							})

					myChart.transition()
							.attr('height', function(d) {
								return yScale(d);
							})
							.attr('y', function(d) {
								return height - yScale(d);
							})
							.delay(function(d, i) {
								return i * 80;
							})
				</script>
			</div>
	</div>
</div>
{% endblock %}